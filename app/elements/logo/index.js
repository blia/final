import React,
{
  createClass,
  createElement,
  PropTypes as Attr,
  createFactory,
  findDOMNode as $,
  DOM,
  Children
} from "react"

import classNames from 'classnames'

import styles from "./style.styl"

const Component = createClass({
  displayName: "LogoElement",
  tagName: 'svg',
  getDefaultProps () {
    return {
      type: 'both'
    }
  },
  childViews: {
    snail (key) {
      const { type } = this.props
      if (type === 'text') {
        return
      }
      const className = classNames(styles.snail)
      const d = `
        M4.803,9.184
        c0.313-0.976,0.586-1.968,0.949-2.925
        c0.526-1.39,1.122-2.754,1.674-4.134
        c0.057-0.143,0.055-0.33,0.026-0.486
        C7.316,0.899,7.696,0.249,8.4,0.048
        c0.648-0.186,1.336,0.186,1.564,0.844
        c0.226,0.653-0.083,1.362-0.717,1.642
        c-0.067,0.03-0.141,0.074-0.208,0.069
        C8.383,2.558,8.047,3.023,7.714,3.466
        C6.738,4.768,6.208,6.278,5.785,7.832
        c-0.545,2.002-0.732,4.021-0.105,6.037
        c0.932,3,2.766,5.176,5.793,6.126
        c3.36,1.054,7.154-0.988,7.902-4.524
        c0.413-1.954,0.088-3.739-1.358-5.168
        c-1.106-1.093-2.465-1.6-4.021-1.248
        c-1.714,0.387-2.926,2.53-2.372,4.113
        c0.345-1.365,1.163-2.108,2.519-2.288
        c1.531-0.203,2.982,1.031,3.062,2.592
        c0.105,2.048-1.215,3.508-3.293,3.789
        c-2.875,0.388-5.08-1.409-5.353-4.333
        c-0.229-2.457,0.898-4.287,2.788-5.659
        c2.864-2.08,6.458-1.073,8.504,1.048
        c2.773,2.874,2.898,7.163,0.301,10.268
        c-1.554,1.857-3.497,3.032-5.898,3.364
        c-1.433,0.198-2.772-0.152-4.08-0.739
        c-2.97-1.332-4.693-3.665-5.455-6.806
        c-0.409-1.686-0.622-3.396-0.747-5.125
        C3.849,7.569,3.49,5.913,2.766,4.345
        C2.497,3.764,2.271,3.172,1.726,2.797
        C1.585,2.7,1.401,2.63,1.231,2.616
        c-0.576-0.046-1.038-0.418-1.192-1
        c-0.138-0.52,0.095-1.091,0.564-1.384
        C1.078-0.065,1.686-0.01,2.108,0.369
        c0.424,0.38,0.575,0.986,0.298,1.491
        C2.227,2.184,2.369,2.417,2.512,2.644
        C3.468,4.155,3.971,5.842,4.391,7.56
        C4.524,8.1,4.61,8.651,4.718,9.197
        C4.746,9.193,4.774,9.188,4.803,9.184
        z`
      return DOM.g({ key, className }, DOM.path({ key: 'snail_path', d }))
    },
    text (key) {
      const { type } = this.props
      if (type === 'icon') {
        return
      }
      const artauro = [
        // a
        `M21.487,14.368
         l11.987,29.694
         c0.795,1.939,1.79,3.829,4.228,5.123
         H27.008
         c2.339-1.044,1.939-2.735,1.492-3.879
         l-3.78-9.353
         H11.341l-3.134,7.811
         c-0.696,1.74-1.143,3.779,1.193,5.421
         H0
         c2.587-1.691,3.582-3.93,4.527-6.317
         l9.947-25.167
         c0.199-0.497,0.894-2.387-1.144-3.333
         H21.487z
         M12.634,32.623
         h10.793
         l-5.422-13.727
         L12.634,32.623
         z`,
        // r
        `M51.858,14.269
         c1.441-0.048,2.885-0.099,4.327-0.099
         c11.34,0,12.483,6.316,12.483,9.053
         c0,4.078-3.232,7.908-8.604,8.804
         c3.88,6.118,11.092,15.119,16.016,17.159
         c-3.481,0.249-4.824,0.299-5.371,0.299
         c-5.72,0-13.479-12.584-16.612-18.453
         c3.581-0.348,8.852-2.387,8.852-7.361
         c0-2.237-0.846-5.819-6.963-5.819
         c-1.243,0-2.188,0.051-3.332,0.349
         v26.013
         c0,1.394,0,3.382,2.287,4.974
         h-9.648
         c2.287-1.592,2.287-3.58,2.287-4.974
         V19.343
         c0-1.393,0-3.383-2.287-4.975
         C47.481,14.368,49.669,14.319,51.858,14.269
         z`,
        // t
        `M93.719,44.212
         c0,1.394,0,3.382,2.288,4.974
         h-9.649
         c2.288-1.592,2.288-3.58,2.288-4.974
         V18.349l-5.919-0.051
         c-1.193,0-3.332,0.2-5.173,2.089
         l1.99-6.217
         c1.193,0.198,1.89,0.198,3.183,0.198h19.249
         c1.044,0,2.139-0.1,3.034-0.198
         l-1.741,5.819
         c-0.945-1.691-2.735-1.691-3.979-1.691l-5.571,0.051
         V44.212
         z`,
        // A
        `M138.303,0
         l16.935,41.948
         c1.124,2.74,2.529,5.411,5.972,7.237
         H147.78
         c3.303-1.477,2.74-3.863,2.108-5.48
         l-5.342-13.212
         h-20.26l-4.426,11.033
         c-0.983,2.46-1.616,5.341,1.686,7.659
         h-11.923
         c3.654-2.389,5.06-5.552,6.395-8.925
         l14.053-35.555
         c0.282-0.702,1.266-3.373-1.615-4.706
         H138.303
         z
         M125.923,26.266
         h17.045
         l-8.783-21.394
         L125.923,26.266
         z`,
        // u
        `M175.432,14.368
         c-2.286,1.592-2.286,3.582-2.286,4.975
         V37.1
         c0,2.338,0.048,8.753,8.306,8.753
         c5.472,0,9.151-2.884,9.151-8.106
         V19.343
         c0-1.393,0-3.383-2.289-4.975
         h9.649
         c-2.287,1.592-2.287,3.582-2.287,4.975
         v24.869
         c0,1.394,0,3.382,2.287,4.974
         h-7.211
         v-3.333
         c-3.232,3.384-6.912,4.079-10.098,4.079
         c-11.489,0-12.583-8.009-12.583-12.186
         V19.343
         c0-1.393,0-3.383-2.288-4.975
         H175.432
         z`,
        // r
        `M216.268,14.269
         c1.44-0.048,2.884-0.099,4.327-0.099
         c11.339,0,12.483,6.316,12.483,9.053
         c0,4.078-3.232,7.908-8.604,8.804
         c3.879,6.118,11.09,15.119,16.014,17.159
         c-3.48,0.249-4.824,0.299-5.369,0.299
         c-5.723,0-13.481-12.584-16.613-18.453
         c3.58-0.348,8.853-2.387,8.853-7.361
         c0-2.237-0.846-5.819-6.962-5.819
         c-1.244,0-2.189,0.051-3.331,0.349
         v26.013
         c0,1.394,0,3.382,2.286,4.974
         h-9.649
         c2.286-1.592,2.286-3.58,2.286-4.974
         V19.343c0-1.393,0-3.383-2.286-4.975
         C211.889,14.368,214.079,14.319,216.268,14.269
         z`,
        // o
        `M282.965,31.776
         c0,9.302-6.566,18.155-19.1,18.155
         c-13.03,0-19.097-9.4-19.097-18.155
         c0-9.3,6.564-18.153,19.097-18.153
         C276.896,13.623,282.965,23.023,282.965,31.776
         z
         M250.486,30.981
         c0,8.655,5.422,14.871,13.279,14.871
         c6.418,0,13.479-4.128,13.479-13.279
         c0-8.655-5.419-14.872-13.28-14.872
         C257.551,17.701,250.486,21.829,250.486,30.981
         z`
      ].map((d, i) => DOM.path({ key: 'text-letter-'+i, d }))
      return DOM.g({ key, className: styles.text }, artauro)
    }

  },
  actions: {
  },
  componentDidMount () {
    // componentDidMount not execs on server and not requires vivus
    // const Vivus = require("vivus")
    // const { animate } = this.props
    // if (!animate) {
    //   return
    // }
    // const el = $(this).firstChild.nextElementSibling.firstChild
    // const ico = $(this).firstChild
    // new Vivus($(this), { type: 'delayed', delay: 50, duration: 100, onReady: () => {
    //   function next(el) {
    //     setTimeout(() => incOp(el, 0), 600)
    //     if (el.nextElementSibling) {
    //       setTimeout(() => next(el.nextElementSibling), 100)
    //     }
    //   }
    //   next(el)
    // } }, () => {
    //   ico.classList.remove(styles.hidden)
    //   ico.classList.add(styles.shown)
    // })
    // function incOp(el, op) {
    //   el.setAttribute('fill-opacity', op/100)
    //   el.setAttribute('stroke-opacity', 1 - (op/100))
    //   if (op < 100) {
    //     setTimeout(function () {
    //       incOp(el, op)
    //     }, 1);
    //   }
    //   op +=0.5
    // }
  },
  template () {
    let template = []
    let viewElement
    let view
    for (let key in this.childViews) {
      if (this.childViews.hasOwnProperty(key)) {
        view = this.childViews[key]
        viewElement = this::view(key)
        if (viewElement) {
          template.push(viewElement)
        }
      }
    }
    return template
  },
  render () {
    const { tagName } = this
    const { type } = this.props
    let attrs
    if (type === 'icon') {
      attrs = {
        x: `0px`,
        y: `0px`,
        width: `22px`,
        // height: `22px`,
        viewBox: `0 0 22 22`
      }
    } else if (type === 'text') {
      attrs = {
        x: `0px`,
        y: `0px`,
        width: `282.965px`,
        // height: `50px`,
        viewBox: `0 -0.3 282.965 50.7`
      }
    } else {
      attrs = {
        x: `0px`,
        y: `0px`,
        width: `282.965px`,
        // height: `90px`,
        viewBox: `0 -0.3 282.965 90.7`
      }
    }
    const className = classNames(styles[type])

    return createElement(tagName, { className, ...attrs }, this.template())
  }
})

export default Component
